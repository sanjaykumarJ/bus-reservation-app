{"ast":null,"code":"import _classCallCheck from\"/Users/sanjaybalajawahar/Desktop/bus-reservation-app/src-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sanjaybalajawahar/Desktop/bus-reservation-app/src-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/sanjaybalajawahar/Desktop/bus-reservation-app/src-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/sanjaybalajawahar/Desktop/bus-reservation-app/src-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import ReactDataGrid from\"react-data-grid\";import{columnData}from\"./grid-utils\";export var BusListGrid=/*#__PURE__*/function(_React$Component){_inherits(BusListGrid,_React$Component);var _super=_createSuper(BusListGrid);function BusListGrid(props){var _this;_classCallCheck(this,BusListGrid);_this=_super.call(this,props);_this.state={records:props.records?props.records:[]};return _this;}_createClass(BusListGrid,[{key:\"sortByField\",value:function sortByField(records,sortColumn,sortDirection){if(sortDirection===\"ASC\"){records.sort(function(a,b){return a[sortColumn]>b[sortColumn]?1:-1;});}else if(sortDirection===\"DESC\"){records.sort(function(a,b){return a[sortColumn]<b[sortColumn]?1:-1;});}return records;}},{key:\"createButtonColumn\",value:function createButtonColumn(columns){var buttonCellFormatter={key:\"button\",name:\"book\",formatter:/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return alert('Booking dialog will open');},value:\"Book\"})};columns.push(buttonCellFormatter);return columns;}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(ReactDataGrid,{columns:createButtonColumn(columnData),rowGetter:function rowGetter(i){return _this2.state.records[i];},rowsCount:this.state.records?this.state.records.length:0,minHeight:500,onGridSort:function onGridSort(sortColumn,sortDirection){return _this2.setState({records:_this2.sortByField(_this2.state.records,sortColumn,sortDirection)});}});}}]);return BusListGrid;}(React.Component);","map":{"version":3,"sources":["/Users/sanjaybalajawahar/Desktop/bus-reservation-app/src-frontend/src/components/bus-list-grid.tsx"],"names":["React","ReactDataGrid","columnData","BusListGrid","props","state","records","sortColumn","sortDirection","sort","a","b","columns","buttonCellFormatter","key","name","formatter","alert","push","createButtonColumn","i","length","setState","sortByField","Component"],"mappings":"gtBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAASC,UAAT,KAA2B,cAA3B,CAkBA,UAAaC,CAAAA,WAAb,sHACI,qBAAYC,KAAZ,CAAmB,6CACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,OAAO,CAAEF,KAAK,CAACE,OAAN,CAAgBF,KAAK,CAACE,OAAtB,CAAgC,EADhC,CAAb,CAFe,aAKlB,CANL,wEAQgBA,OARhB,CAQmCC,UARnC,CAQuDC,aARvD,CAQwF,CAChF,GAAIA,aAAa,GAAK,KAAtB,CAA6B,CACzBF,OAAO,CAACG,IAAR,CAAa,SAACC,CAAD,CAAIC,CAAJ,CAAU,CAAE,MAAOD,CAAAA,CAAC,CAACH,UAAD,CAAD,CAAgBI,CAAC,CAACJ,UAAD,CAAjB,CAAgC,CAAhC,CAAoC,CAAC,CAA5C,CAA+C,CAAxE,EACH,CAFD,IAEO,IAAIC,aAAa,GAAK,MAAtB,CAA8B,CACjCF,OAAO,CAACG,IAAR,CAAa,SAACC,CAAD,CAAIC,CAAJ,CAAU,CAAE,MAAOD,CAAAA,CAAC,CAACH,UAAD,CAAD,CAAgBI,CAAC,CAACJ,UAAD,CAAjB,CAAgC,CAAhC,CAAoC,CAAC,CAA5C,CAA+C,CAAxE,EACH,CACD,MAAOD,CAAAA,OAAP,CACH,CAfL,8DAiBuBM,OAjBvB,CAiBgC,CACxB,GAAMC,CAAAA,mBAAmB,CAAG,CACxBC,GAAG,CAAE,QADmB,CAExBC,IAAI,CAAE,MAFkB,CAGxBC,SAAS,cAAE,8BAAQ,OAAO,CAAE,yBAAMC,CAAAA,KAAK,CAAC,0BAAD,CAAX,EAAjB,CAA0D,KAAK,CAAC,MAAhE,EAHa,CAA5B,CAKAL,OAAO,CAACM,IAAR,CAAaL,mBAAb,EACA,MAAOD,CAAAA,OAAP,CACH,CAzBL,uCA2Ba,iBACL,mBAAQ,oBAAC,aAAD,EACJ,OAAO,CAAEO,kBAAkB,CAACjB,UAAD,CADvB,CAEJ,SAAS,CAAE,mBAAAkB,CAAC,QAAI,CAAA,MAAI,CAACf,KAAL,CAAWC,OAAX,CAAmBc,CAAnB,CAAJ,EAFR,CAGJ,SAAS,CAAE,KAAKf,KAAL,CAAWC,OAAX,CAAqB,KAAKD,KAAL,CAAWC,OAAX,CAAmBe,MAAxC,CAAiD,CAHxD,CAIJ,SAAS,CAAE,GAJP,CAKJ,UAAU,CAAE,oBAACd,UAAD,CAAaC,aAAb,QACR,CAAA,MAAI,CAACc,QAAL,CAAc,CAAEhB,OAAO,CAAE,MAAI,CAACiB,WAAL,CAAiB,MAAI,CAAClB,KAAL,CAAWC,OAA5B,CAAqCC,UAArC,CAAiDC,aAAjD,CAAX,CAAd,CADQ,EALR,EAAR,CASH,CArCL,yBAAiCR,KAAK,CAACwB,SAAvC","sourcesContent":["import React from 'react';\nimport ReactDataGrid from \"react-data-grid\";\nimport { columnData } from \"./grid-utils\";\n\nexport interface Record {\n    id: Number,\n    operatorName: string;\n    departureLoc: string;\n    arrivalLoc: string;\n    departureTime: string;\n    arrivalTime: string;\n    duration: number;\n    busType: string;\n}\ninterface Props {\n    records: Record[];\n}\ninterface state {\n    records: Record[];\n}\nexport class BusListGrid extends React.Component<Props, state>{\n    constructor(props) {\n        super(props)\n        this.state = {\n            records: props.records ? props.records : []\n        }\n    }\n\n    sortByField(records: Record[], sortColumn: string, sortDirection: string): Record[] {\n        if (sortDirection === \"ASC\") {\n            records.sort((a, b) => { return a[sortColumn] > b[sortColumn] ? 1 : -1 })\n        } else if (sortDirection === \"DESC\") {\n            records.sort((a, b) => { return a[sortColumn] < b[sortColumn] ? 1 : -1 })\n        }\n        return records;\n    }\n\n    createButtonColumn(columns) {\n        const buttonCellFormatter = {\n            key: \"button\",\n            name: \"book\",\n            formatter: <button onClick={() => alert('Booking dialog will open')} value=\"Book\"></button>\n        }\n        columns.push(buttonCellFormatter);\n        return columns;\n    }\n\n    render() {\n        return (<ReactDataGrid\n            columns={createButtonColumn(columnData)}\n            rowGetter={i => this.state.records[i]}\n            rowsCount={this.state.records ? this.state.records.length : 0}\n            minHeight={500}\n            onGridSort={(sortColumn, sortDirection) =>\n                this.setState({ records: this.sortByField(this.state.records, sortColumn, sortDirection) })\n            }\n        />)\n    }\n}"]},"metadata":{},"sourceType":"module"}