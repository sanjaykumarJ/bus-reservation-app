(this["webpackJsonpmysrc-frontend"]=this["webpackJsonpmysrc-frontend"]||[]).push([[0],{159:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a.n(r),i=a(15),l=a.n(i),s=(a(74),a(75),a(43)),o=a.n(s),c=a(64),u=a(24),h=a(25),d=a(12),m=a(33),v=a(31),y=a(44),p=a.n(y),C=(a(77),a(65)),b=a.n(C),g=a(66),f=a.n(g),k=a(47),E={sortable:!0,width:120},D=[{key:"id",name:"Bus Number",sortDescendingFirst:!0},{key:"operatorName",name:"Operator Name"},{key:"departureLoc",name:"Departure Location"},{key:"arrivalLoc",name:"Arrival location"},{key:"departureTime",name:"Departure Time"},{key:"arrivalTime",name:"Arrival Time"},{key:"duration",name:"Duration"},{key:"busType",name:"Bus Type"}].map((function(e){return Object(k.a)(Object(k.a)({},e),E)})),S=function(e){Object(m.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).state={records:e.records?e.records:[]},r}return Object(h.a)(a,[{key:"sortByField",value:function(e,t,a){return"ASC"===a?e.sort((function(e,a){return e[t]>a[t]?1:-1})):"DESC"===a&&e.sort((function(e,a){return e[t]<a[t]?1:-1})),e}},{key:"createButtonColumn",value:function(e){var t={key:"button",name:"book",formatter:n.a.createElement("button",{onClick:function(){return alert("Booking dialog will open")},value:"Book"})};return e.push(t),e}},{key:"render",value:function(){var e=this;return n.a.createElement(f.a,{columns:createButtonColumn(D),rowGetter:function(t){return e.state.records[t]},rowsCount:this.state.records?this.state.records.length:0,minHeight:500,onGridSort:function(t,a){return e.setState({records:e.sortByField(e.state.records,t,a)})}})}}]),a}(n.a.Component);a(35).baseURL="http://localhost:8080/";var w=function(e){Object(m.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).state={value:"",departureCity:"",arrivalCity:"",startDate:new Date,endDate:new Date,records:[]},r.handleDepartureCityChange=r.handleDepartureCityChange.bind(Object(d.a)(r)),r.handleArrivalCityChange=r.handleArrivalCityChange.bind(Object(d.a)(r)),r.handleStartDateChange=r.handleStartDateChange.bind(Object(d.a)(r)),r.handleEndDateChange=r.handleEndDateChange.bind(Object(d.a)(r)),r.handleSearch=r.handleSearch.bind(Object(d.a)(r)),r}return Object(h.a)(a,[{key:"handleDepartureCityChange",value:function(e){this.setState({departureCity:e.target.value})}},{key:"handleArrivalCityChange",value:function(e){this.setState({arrivalCity:e.target.value})}},{key:"handleStartDateChange",value:function(e){this.setState({startDate:e})}},{key:"handleEndDateChange",value:function(e){this.setState({endDate:e})}},{key:"handleSearch",value:function(){var e=Object(c.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.departureCity||!this.state.arrivalCity){e.next=14;break}return e.prev=1,e.next=4,b.a.get("/querybuses",{params:{departureCity:this.state.departureCity,arrivalCity:this.state.arrivalCity}});case 4:a=e.sent,console.log(a),this.setState({records:a.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:e.next=15;break;case 14:window.alert("Enter valid values in the required fields");case 15:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"flex-box"},n.a.createElement("label",{"aria-required":!0},n.a.createElement("p",{className:"required-ash"},"*"),"Departure city:",n.a.createElement("input",{required:!0,type:"text",value:this.state.departureCity,onChange:this.handleDepartureCityChange})),n.a.createElement("label",null,n.a.createElement("p",{className:"required-ash"},"*"),"Arrival city:",n.a.createElement("input",{required:!0,type:"text",value:this.state.arrivalCity,onChange:this.handleArrivalCityChange})),n.a.createElement("label",null,n.a.createElement("p",{className:"required-ash"},"*"),"Departure date:",n.a.createElement(p.a,{required:!0,selected:this.state.startDate,onChange:this.handleStartDateChange})),n.a.createElement("label",null,"Arrival date:",n.a.createElement(p.a,{selected:this.state.endDate,onChange:this.handleEndDateChange})),n.a.createElement("input",{type:"button",onClick:this.handleSearch,value:"Search Bus"})),this.state.records.length>0&&n.a.createElement(S,{records:this.state.records}))}}]),a}(n.a.Component);var O=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("h1",null,"Agent Bus booking"),n.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},69:function(e,t,a){e.exports=a(159)},74:function(e,t,a){},75:function(e,t,a){}},[[69,1,2]]]);
//# sourceMappingURL=main.c7e83abd.chunk.js.map